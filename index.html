<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sei wie Friedrich â€” Multiplayer</title>
  <link rel="stylesheet" href="./styles.css" />

  <!-- Leaflet (Karte) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">ğŸ‘‘ Sei wie Friedrich â€” Multiplayer</div>
    <div id="statusBar" class="status"></div>
  </header>

  <main class="container">

    <!-- START -->
    <section id="view-start" class="view">
      <h1>Start</h1>
      <p class="muted">Name eingeben, Raum erstellen oder beitreten.</p>

      <label class="field">
        <span>Dein Name</span>
        <input id="nameInput" type="text" maxlength="18" placeholder="z.B. Leon" />
      </label>

      <div class="row">
        <button id="btnCreate" class="btn primary">Raum erstellen</button>
      </div>

      <div class="divider"></div>

      <label class="field">
        <span>Raumcode</span>
        <input id="roomInput" type="text" maxlength="6" placeholder="z.B. A7K2Q9" />
      </label>
      <div class="row">
        <button id="btnJoin" class="btn">Raum beitreten</button>
      </div>

      <p id="startError" class="error"></p>
    </section>

    <!-- LOBBY -->
    <section id="view-lobby" class="view hidden">
      <div class="lobbyHead">
        <h1>Lobby</h1>

        <div class="roomCodeBox">
          <div class="roomCodeLabel">Code</div>
          <div class="roomCodeValue" id="roomCodeText">------</div>
          <button id="btnCopyCode" class="btn tiny">Kopieren</button>
        </div>
      </div>

      <p class="muted">Warte, bis alle da sind. Der Host kann starten.</p>

      <div class="card">
        <div class="cardTitle">Spieler</div>
        <ul id="playersList" class="list"></ul>
      </div>

      <div class="row">
        <button id="btnStartGame" class="btn primary hidden">Spiel starten</button>
      </div>

      <p id="lobbyHint" class="muted"></p>
    </section>

    <!-- QUESTION -->
    <section id="view-question" class="view hidden">
      <h1 id="qTitle">Frage</h1>
      <p id="qPrompt" class="muted"></p>

      <!-- Map question -->
      <div id="mapWrap" class="hidden">
        <div id="map"></div>
        <p class="muted small">Klicke auf die Karte, um die Pinnnadel zu setzen.</p>
      </div>

      <!-- Options question -->
      <div id="optionsWrap" class="hidden">
        <div id="options" class="options"></div>
      </div>

      <div class="row">
        <button id="btnSubmit" class="btn primary">Abgeben</button>
      </div>

      <p id="qError" class="error"></p>
      <p id="qWaiting" class="muted"></p>
    </section>

    <!-- FEEDBACK -->
    <section id="view-feedback" class="view hidden">
      <h1>Auswertung</h1>

      <div class="scoreRow">
        <div class="ring" id="scoreRing">
          <div class="ringInner">
            <div class="ringValue" id="ringValue">0%</div>
            <div class="ringSmall" id="ringSmall">Gesamt</div>
          </div>
        </div>

        <div class="scoreInfo">
          <div class="delta" id="deltaText">+0%</div>
          <div class="muted" id="deltaMsg"></div>
          <div class="muted small" id="waitingNext"></div>
        </div>
      </div>

      <div class="row">
        <button id="btnNext" class="btn primary">Weiter</button>
      </div>
    </section>

    <!-- RESULTS -->
    <section id="view-results" class="view hidden">
      <h1>Ergebnis</h1>
      <p class="muted">Alle sehen jetzt die gleiche Rangliste.</p>

      <div class="card">
        <div class="cardTitle">Rangliste</div>
        <div id="leaderboard" class="leaderboard"></div>
      </div>

      <div class="row">
        <button id="btnRestart" class="btn">ZurÃ¼ck zum Start</button>
      </div>
    </section>

  </main>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script type="module" src="./app.js"></script>
</body>
</html>
<script type="module" src="./app.js"></script>
